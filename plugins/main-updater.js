const _0x39756b=_0x145e;function _0x145e(_0x5bf02c,_0x1a8894){const _0x1ad537=_0x1ad5();return _0x145e=function(_0x145ea4,_0x35186d){_0x145ea4=_0x145ea4-0x13c;let _0x348d5e=_0x1ad537[_0x145ea4];return _0x348d5e;},_0x145e(_0x5bf02c,_0x1a8894);}function _0x1ad5(){const _0x578edb=['join','lstatSync','adm-zip','âœ…\x20Update\x20complete!\x20Restarting\x20the\x20bot...','8frJjQM','\x20to\x20preserve\x20custom\x20settings.','latest.zip','ðŸ”\x20Checking\x20for\x20MEGALODON-MD\x20updates...','sync','readdirSync','MEGALODON-MD\x20UPDATING\x20WAIT\x20PLEASE...','axios','15420924IdgeIL','rmSync','Update\x20the\x20bot\x20to\x20the\x20latest\x20version.','826301nEeKvs','extractAllTo','error','18XQRPiS','app.json','upgrade','index.js','715352sfELOv','package.json','2830299bWuBVH','Skipping\x20','mkdirSync','MEGALODON-MD-main','607797zoXvMa','unlinkSync','update','copyFileSync','arraybuffer','3036NHGozF','âœ…\x20Your\x20MEGALODON-MD\x20bot\x20is\x20already\x20up-to-date!','ðŸ“¦\x20Extracting\x20the\x20latest\x20code...','../command','get','4266325TzpQUQ','isDirectory','existsSync','latest','sha','âŒ\x20Update\x20failed.\x20Please\x20try\x20manually.'];_0x1ad5=function(){return _0x578edb;};return _0x1ad5();}(function(_0x59657f,_0x27c580){const _0x10fbe7=_0x145e,_0x39efd8=_0x59657f();while(!![]){try{const _0x29ae8e=parseInt(_0x10fbe7(0x147))/0x1+parseInt(_0x10fbe7(0x14c))/0x2+parseInt(_0x10fbe7(0x143))/0x3+parseInt(_0x10fbe7(0x141))/0x4+parseInt(_0x10fbe7(0x151))/0x5+-parseInt(_0x10fbe7(0x13d))/0x6*(parseInt(_0x10fbe7(0x166))/0x7)+parseInt(_0x10fbe7(0x15b))/0x8*(-parseInt(_0x10fbe7(0x163))/0x9);if(_0x29ae8e===_0x27c580)break;else _0x39efd8['push'](_0x39efd8['shift']());}catch(_0x29a496){_0x39efd8['push'](_0x39efd8['shift']());}}}(_0x1ad5,0x7e4a6));const {cmd}=require(_0x39756b(0x14f)),axios=require(_0x39756b(0x162)),fs=require('fs'),path=require('path'),AdmZip=require(_0x39756b(0x159)),{setCommitHash,getCommitHash}=require('../data/updateDB');cmd({'pattern':_0x39756b(0x149),'alias':[_0x39756b(0x13f),_0x39756b(0x15f)],'react':'ðŸ†•','desc':_0x39756b(0x165),'category':'misc','filename':__filename},async(_0x4d72d0,_0x2744a1,_0x385e1c,{reply:_0x5f32eb,isOwner:_0x2bc79a})=>{const _0x1f886f=_0x39756b;if(!_0x2bc79a)return _0x5f32eb('This\x20command\x20is\x20only\x20for\x20the\x20bot\x20owner.');try{await _0x5f32eb(_0x1f886f(0x15e));const {data:_0xd57085}=await axios['get']('https://api.github.com/repos/DybyTech/MEGALODON-MD/commits/main'),_0x2bfab6=_0xd57085[_0x1f886f(0x155)],_0x260da5=await getCommitHash();if(_0x2bfab6===_0x260da5)return _0x5f32eb(_0x1f886f(0x14d));await _0x5f32eb(_0x1f886f(0x161));const _0x3e14ea=path[_0x1f886f(0x157)](__dirname,_0x1f886f(0x15d)),{data:_0x4a7c90}=await axios[_0x1f886f(0x150)]('https://github.com/DybyTech/MEGALODON-MD/archive/main.zip',{'responseType':_0x1f886f(0x14b)});fs['writeFileSync'](_0x3e14ea,_0x4a7c90),await _0x5f32eb(_0x1f886f(0x14e));const _0x554d93=path['join'](__dirname,_0x1f886f(0x154)),_0x2c150c=new AdmZip(_0x3e14ea);_0x2c150c[_0x1f886f(0x167)](_0x554d93,!![]),await _0x5f32eb('ðŸ”„\x20Replacing\x20files...');const _0x19cff6=path[_0x1f886f(0x157)](_0x554d93,_0x1f886f(0x146)),_0xacbb16=path[_0x1f886f(0x157)](__dirname,'..');copyFolderSync(_0x19cff6,_0xacbb16),await setCommitHash(_0x2bfab6),fs[_0x1f886f(0x148)](_0x3e14ea),fs[_0x1f886f(0x164)](_0x554d93,{'recursive':!![],'force':!![]}),await _0x5f32eb(_0x1f886f(0x15a)),process['exit'](0x0);}catch(_0x47257c){return console[_0x1f886f(0x13c)]('Update\x20error:',_0x47257c),_0x5f32eb(_0x1f886f(0x156));}});function copyFolderSync(_0x202981,_0x28f59a){const _0xb56532=_0x39756b;!fs[_0xb56532(0x153)](_0x28f59a)&&fs[_0xb56532(0x145)](_0x28f59a,{'recursive':!![]});const _0x11ba46=fs[_0xb56532(0x160)](_0x202981);for(const _0x597290 of _0x11ba46){const _0x4fad5c=path['join'](_0x202981,_0x597290),_0x5880ef=path[_0xb56532(0x157)](_0x28f59a,_0x597290);if(_0x597290==='config.js'||_0x597290===_0xb56532(0x13e)||_0x597290===_0xb56532(0x142)||_0x597290===_0xb56532(0x140)){console['log'](_0xb56532(0x144)+_0x597290+_0xb56532(0x15c));continue;}fs[_0xb56532(0x158)](_0x4fad5c)[_0xb56532(0x152)]()?copyFolderSync(_0x4fad5c,_0x5880ef):fs[_0xb56532(0x14a)](_0x4fad5c,_0x5880ef);}}
